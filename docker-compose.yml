version: '3.8'
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile # Use the development Dockerfile
    ports:
      - "5001:5001"
    volumes:
      - .:/app
      - /app/node_modules # Avoid overwriting node_modules
    environment:
      - PORT=5001
      - FIREBASE_CREDENTIALS=./firebase-key.json
      - FIREBASE_SERVICE_ACCOUNT_BASE64=ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAic2hpcGxhbmNlci0xMzcyNyIsCiAgInByaXZhdGVfa2V5X2lkIjogIjM4OGY5MzU5NTdlZDA0NDY3NDVkNzcwMmVmZDUwYzRiODA2MTgxZmYiLAogICJwcml2YXRlX2tleSI6ICItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cbk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQzMyRktPQW11aitBQzFcbjBMWEhQclhrZUZqMm8wNUpoZThSeGVGL0NoWTc2OTdwZFN5dXEzamR6aUJCZlFwbXFVSlVacForQkVCS1FFOTdcblB2dmFjWXRvZ21SRWJnWWl1N2tpbHZrVWJzSGtOZmRVOXVUSGFLVzBCNWpISnBLTWQ2cmthbEl4VDNpaThhYlVcbm5GRklXVHJxb3ZHakZUbWYvbDdxalNNZWQxNEdCZDRrYzhUMkdFZUFlMUdDWnBQTE5MSWh3YVFmU0FvaHRUemxcbktJeTFsZjRHQnFmZjl6ZXFWN3NmeU9WdUs2QjlOa1pSQUdtdFcyWUh0SWxoTmM5V09DdlZEMUFjU2svMHAwQUNcbnFoaCtBRTVSSjdMeWp2Y2phOEV3SHRtV0lQNldSY0UvelFvSUJBODh6djZkTjc0U2NUOWNNQ3I1dEhHZ3FlT0xcbmtDQmZreXVaQWdNQkFBRUNnZ0VBSGsvSzhNSWlhRU1NTHU0T0FwOXEweFFxcXVPckZVRkJkUjg0dWo3NkFvQTFcbjNTMG1KRmgrVWFmYU5xSDh0SWVFdWJDK2NHR1lEZ1lEZE5FaUtsYWRReXA0aUxYUlNpbkVjUmtPVVZtZm0xWndcbmhMQStjVWhtUmNRWTR3RVBtWnhqYjB5K1o0WHdZSUZTWGV5MkZDVXVLeUNaa2FkK3ZFdnU3Mkk4MzVtVHhZOHJcblpucjdZUnN5Sy9NYUMwV0pKcTRlRVI3dGR4Zm9abDVqY3R1RmlTSkhaRDFreHBaL3JhcEt0MStvUXNCQ0NFUXBcblVDSVRZTU02clpkQXlPemZOZUtmMjFGcWNQSnFDdzNaZXVZQkxvVDRmUDJIcjRXVGs4UFJ0VU9vbVloU1cwbXpcbkdTU2hSd1l4VXo1SEVJZGZoMjFqMzRSL3c3dUw0aFE4VWlxWC9JK1hud0tCZ1FEb2s2TEJPT2ZyazRBWDlBNmxcbkJtZ2xNZ05scHhvTDhNdk5xQmFvUTQxOVpBUUhRUzV2eGJWdnBNYnpvVzFUUEJWYmdSNy9xT29JVURNWlBDd0xcbnJKODZObThPSWJINk94UkdIdjNjOTFWWEp2NDJnbko3R3AzZlMvcUc3a0h6Y0VsWUlMdFVvOEFieUxtdENWa2RcbmhJckxXRy9jb1pSbHliWG1xeGl0VURnVEx3S0JnUURLWEVWdFFtM0wrTXdIL3dIV3o3YnFDZnRVdEJ4VXV1V2ZcbjN5VWs5RDh4cXczQUVrTS9tbUtVT01UT0dVRk1TRkI4K0hxUmh1ai9tQjJtM2o1cWJ3WVY0WXhsNHdaNlB3NHJcbi9jVDlCdVVzK0NZSTU0amNER3R1czFFTFI3aDU1M2xwRU54U1F4OGRNeHRGRXJGRXBiWlVEb3UzTzhWUS9obkhcblFNeC9zaUNidHdLQmdRRE80aTBmeGZmL2hRaW54aENVMlZzZzR4bEVmbDFjQzhtdTJmdTFsOG12cFowenV0YU1cbjFJanRrOXpwOFVtbmhjWFZ6TWovVUlsRjlkbE9kRWtWNVdzS1JFdUxmWXVzOUlxM1NYQTI4OGgxS3hsczhhTFdcblFMbjRYTVN3N0JXOGI4QytaUGRlZGY4NGQ5ZzZ4UnNCZDlwaXdmdFhmbC9jSDQ3d2JuZ1lDMGltUHdLQmdGK05cbmhuTDdKU0ZsaitKT3RhMmJVNEhieU1QTWNIeEo3RmU3Wkt5NGNJYWhnTktyVFBuaGlwNzIxMmVDWVdVRjJJdktcblFRWXFzQ2JReTErYUhkcmdKZjE3RFhLbTZzNGFyRFIxbGVqc3NwYXpiakpTTWp2RjJZemlPMmlhS3kvVTcyMS9cbk9xblZiQUc3dWlxNWt0OFphS2owWFdEZVptUENPS1h2b1NEREdjYXRBb0dBUHNuNFVhR3RkQ09tNSsxNk43cUNcbjB4Uk5uODNDdXNMNzg0eXhWcDRlZjNlSlRUa2F4bWgzVnhPbklJVndiTDFZWkJGL0tRWnVSTGRUcmVFT3o1TUhcblpkMkcyTllxNFZPSThJaFE1K2g1bTZpYndSMnhlV1hmZWpOU1ZwQ0Fta1pVNytSaTdsWDE5Y2JsVk1HV2hXUW9cbm1kbkVsSFhkVXBVYStsUElJb1F3Mm13PVxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxuIiwKICAiY2xpZW50X2VtYWlsIjogImZpcmViYXNlLWFkbWluc2RrLWZic3ZjQHNoaXBsYW5jZXItMTM3MjcuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTAxOTg1OTAzMTg1NTM4MjExNDA0IiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MHNoaXBsYW5jZXItMTM3MjcuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K
      # Add other environment variables here